{% extends 'base.html' %}
{% load static %}
{% block head %}
<title>Banco Grigotts</title>

{% endblock %}
{% block body %}

<main>
    <a href="{% url 'home' %}">游 Volver al Callej칩n Diagon</a>

    <h2>Bienvenido(a), {{ user.full_name }} al Banco Gringotts.</h2>
    <p>Lugar m치s seguro de todo el mundo m치gico.</p>

    <ul>
        <li><strong>No. de b칩veda:</strong> {{ account.id }}</li>
        <li><strong>Saldo:</strong> {{ account.balance }} galeones</li>
        <li><strong>Estado de la cuenta:</strong>
            {% if account.is_frozen %}
            <span style="color:red;">Congelada</span>
            <ul>
                <li>Para descongelar una cuenta deben comprar un art칤culo del Callej칩n Diagon.</li>
                <li>Mientras la cuenta permanezca congelada se descontar치 el 4% de su saldo cada d칤a.</li>
                <li>Las cuentas congeladas con el balance en 0 solicitar치n su descongelaci칩n al banco.</li>
            </ul>
            {% else %}
            <span style="color:green;">Activa</span>
            {% endif %}
            <p>Para evitar que una cuenta se congele te sugerimos comprar un art칤culo del Callej칩n Diagon cada copa.</p>
        </li>
        <li>Cuenta {{ account.account_type }}</li>
        <li>L칤mite {{ account.limit }}</li>
        {% if account.premium_ex_date %}
        <li>Su cuenta {{ account.account_type }} expira el {{ account.premium_ex_date }}</li>
        {% endif %}
    </ul>
</main>

<div>
    <a href="{% url 'transaction' %}">Transferir galeones</a>
    <a href="{% url 'loan' %}">Pedir pr칠stamo</a>
</div>

<section>
    <h4>Cuentas premium</h4>
    <p>쯃a cuenta standard limita tus abundantes ganancias? 쯊e ves obligado a gastar dinero en art칤culos que no quieres
        solo para no perder tu fortuna? 쯅o tienes c칩mo alardear frente a la gente una suma mayor de 200 galeones? Todo
        eso se resuelve con una Cuenta Premium: la opci칩n perfecta para mantener tu estatus de ricach칩n.</p>
    <div>
        <h5>Cuenta Premium</h5>
        <p>Precio: 80 galeones</p>
        <p>Aumenta el l칤mite de tu cuenta a 400 galeones por 3 meses.</p>
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="account_type" value="premium">
            <button type="button" class="btn btn-primary" data-title="Confirmaci칩n de compra"
                data-message="쮻eseas comprar una cuenta Premium por 80 galeones? (Esta acci칩n es irreversible)?"
                onclick="showConfirm(this)">
                Comprar
            </button>
        </form>
    </div>
    <div>
        <h5>Cuenta Premium Pro</h5>
        <p>Precio: 100 galeones</p>
        <p>Aumenta el l칤mite de tu cuenta a 400 galeones por 6 meses.</p>
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="account_type" value="premium_pro">
            <button type="button" class="btn btn-primary" data-title="Confirmaci칩n de compra"
                data-message="쮻eseas comprar una cuenta Premium Pro por 100 galeones? (Esta acci칩n es irreversible)?"
                onclick="showConfirm(this)">
                Comprar
            </button>
        </form>
    </div>

    {% include "components/confirm_modal.html" %}
</section>

{% if messages %}
{% include "components/success_modal.html" %}
{% endif %}

<script src="{% static 'js/confirmLogic.js' %}"></script>
<script src="{% static 'js/successModal.js' %}"></script>

{% endblock %}